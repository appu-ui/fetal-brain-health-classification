<!doctype html>
<html>
  <head>
    <title>Brain MRI Disease Prediction</title>
  </head>
  <body>
    <h1>Upload Brain MRI Image</h1>
    <form method="POST" action="/predict" enctype="multipart/form-data" id="upload-form">
      <input type="file" name="file" accept="image/*" required>
      <input type="submit" value="Predict">
    </form>
    <div id="result"></div>
    <script>
      // AJAX form submission to show result without reloading
      document.getElementById('upload-form').onsubmit = async function(event) {
        event.preventDefault();
        const formData = new FormData(this);
        const response = await fetch('/predict', { method: 'POST', body: formData });
        const data = await response.json();
        if (data.result) {
          document.getElementById('result').innerHTML = `<h2>Prediction: ${data.result}</h2><p>Confidence: ${data.probability}</p>`;
        } else {
          document.getElementById('result').innerHTML = `<p style="color:red;">${data.error}</p>`;
        }
      };
    </script>
  </body>
</html>
